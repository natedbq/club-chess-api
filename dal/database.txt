create table Refresh (
	RefreshToken uniqueIdentifier,
	UserId uniqueIdentifier,
	ExpiresOn datetime
);

create table Club (
	Id uniqueIdentifier,
	Name Varchar(60),
	Description Varchar(max),
	Owner uniqueIdentifier,
	picUrl varchar(250)
);

create table StudyClub (
	StudyId uniqueIdentifier,
	ClubId uniqueIdentifier
)

create table [User] (
	Id uniqueIdentifier,
	Username varchar(25),
	FirstName varchar(25),
	LastName varchar(25),
	Password varchar(60),
	PicUrl varchar(250),
	Roles varchar(200)
);

create table ClubUser (
	ClubId uniqueIdentifier,
	UserId uniqueIdentifier
);

create table StudyUser (
	StudyId uniqueIdentifier,
	UserId uniqueIdentifier
);

create table ClubInvite (
	ToUsername varchar(25),
	FromUsername varchar(25),
	ClubId uniqueIdentifier,
	Message varchar(max)
);

create table ClubRequest (
	FromUsername varchar(25),
	FromUsername varchar(25),
	ClubId uniqueIdentifier,
	Message varchar(max)
);

create table UserStudyStats (
	StudyId uniqueIdentifier,
	UserId uniqueIdentifier,
	LastStudied datetime,
	Accuracy float
);

create table UserPositionStats (
	PositionId uniqueIdentifier,
	UserId uniqueIdentifier,
	studyId uniqueIdentifier,
	Mistakes bigint,
	LastStudied datetime
);

create table Book (
	Id uniqueIdentifier,
	StudyId uniqueIdentifier,
	Title varchar(50),
	[Order] int
);


create table Chapter (
	Id uniqueIdentifier,
	BookId uniqueIdentifier,
	Title varchar(50),
	[Order] int
);

create table [Page] (
	Id uniqueIdentifier,
	ChapterId uniqueIdentifier,
	Title varchar(50),
	FEN varchar(150),
	[Text] varchar(max),
	[Order] int,
	FastForward int,
	Hide int,
	Plans varchar(max)
);